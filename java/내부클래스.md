## 내부클래스

> 클래스 안에 선언된 클래스

어느 위치에 선언하느냐에 따라 4가지 형태가 있을 수 있다.

### 1. 중첩클래스(인스턴스 클래스)

클래스 안에 인스턴스 변수, 즉 필드를 선언하는 위치에 선언되는 경우

```java
package javaStudy;

public class InnerExam1 {
    class Cal { // 중첩 클래스
        int value = 0;
        public void plus() {
            value++;
        }
    }
    
    public static void main(String[] args) { // 중첩 클래스 사용하기
        InnerExam1 t = new InnerExam1(); // 외부 클래스 생성
        
        InnerExam1.Cal cal = t.new Cal(); // 외부 클래스 사용해서 중첩 클래스 선언
        cal.plus();
        System.out.println(cal.value); // 1
    }
}
```

- 타입과 중첩 클래스 선언하는 부분을 잘 보자!



### 2.정적 중첩 클래스(static 클래스)

필드를 선언할 때 static한 필드로 선언한 것과 같다.

```java
package javaStudy;

public class InnerExam2 {
    static class Cal { // static한 중첩 클래스
        int value = 0;
        public void plus() {
            value++;
        }
    }
    
    public static void main(String[] args) { 
        InnerExam2.Cal cal = new InnerExam2.Cal();
        
        cal.plus();
        System.out.println(cal.value); // 1
    }
}
```

- `Cal`은 정적인 필드와 같은 방법으로 접근하여 사용한다

  

### 3. 지역 중첩 클래스(지역 클래스)

내부 클래스가 메서드 안에서 선언된 경우이다.

```java
package javaStudy;

public class InnerExam3 {
    public void exec() {
        static class Cal { 
            int value = 0;
            public void plus() {
                value++;
            }
    	}  
        
        Cal cal = new Cal(); // 메서드 내부에서 Cal 내부 클래스 사용 가능!
        cal.plus();
        System.out.println(cal.value); 
    }
    
    public static void main(String[] args) { 
        InnerExam3 t = new InnerExam3();
        
        t.exec();
    }
}
```

- 메서드 내에서 선언된 클래스는 메서드 내부에서 사용할 수 있다.
- 클래스 메서드가 실행될 때 클래스가 생성되고 정의된 부분이 수행된다.



### 4. 익명 중첩 클래스(익명 클래스)

```java
package javaStudy;

public abstract class Action {
    public abstract void exec();
}
```

- 추상 클래스 

```java
package javaStudy;

public class MyAction extends Action {
    
    @Override
    public void exec() {
        System.out.println("exec!");
    }
}
```

- 추상 클래스 Action을 상속받는 MyAction 클래스 만들기

```java
package javaStudy;

public class ActionExam {
    public static void main(String[] args) {
        //Action action = new MyAction();
        //action.exec();
        
        Action action = new Action() { // 추상 클래스이기 때문에 원래 생성자로만 생성할 수 없음
            @Override
            public void exec() {
                System.out.println("exec");
            }
        }
        action.exec(); // exec
    }
}
```

- **생성자 다음에 중괄호가 나오면 해당 생성자 이름에 해당하는 클래스를 상속받는 이름없는 객체를 만든다는 것이다.**
- 괄호안에는 메소드를 상속받거나 새로 추가할 수 있으며, action이라는 참조 변수가 해당 객체를 참조한다.
- MyAction을 사용하지 않고 Action을 상속받는 익명 클래스를 만들어서 exec() 메소드를 호출 할 수 있다.
- Action을 상속받는 클래스가 해당 클래스에서만 사용되고 다른 클래스에서는 전혀 사용할 필요가 없는 경우 익명 클래스를 사용하는 것이 좋다.